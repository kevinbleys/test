{"version":3,"file":"main.5897d3336c6114e868c4.hot-update.js","mappings":"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","sources":["webpack://tablet-ui/./src/components/MemberCheck.jsx","webpack://tablet-ui/webpack/runtime/getFullHash"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\nexport default function MemberCheck() {\r\n  const [nom, setNom] = useState('');\r\n  const [prenom, setPrenom] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const navigate = useNavigate();\r\n\r\n  const handleVerification = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setError('');\r\n\r\n    try {\r\n      // Étape 1: Vérification de l'adhésion\r\n      const checkResponse = await axios.get('http://localhost:4000/members/check', {\r\n        params: { nom, prenom }\r\n      });\r\n\r\n      if (!checkResponse.data.success) {\r\n        throw new Error(checkResponse.data.error || \"Adhésion non valide\");\r\n      }\r\n\r\n      // Étape 2: Enregistrement de la présence\r\n      const presenceResponse = await axios.post('http://localhost:4000/presences', {\r\n        type: 'adherent',\r\n        nom,\r\n        prenom\r\n      });\r\n\r\n      if (!presenceResponse.data.success) {\r\n        throw new Error(\"Erreur lors de l'enregistrement\");\r\n      }\r\n\r\n      // Redirection après succès\r\n      navigate('/confirmation');\r\n\r\n    } catch (error) {\r\n      console.error('Erreur:', error);\r\n      setError(error.response?.data?.error || error.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"member-check\">\r\n      <h2>Vérification d'adhésion</h2>\r\n      \r\n      <form onSubmit={handleVerification}>\r\n        <div className=\"form-group\">\r\n          <label>Nom</label>\r\n          <input\r\n            type=\"text\"\r\n            value={nom}\r\n            onChange={(e) => setNom(e.target.value)}\r\n            required\r\n            disabled={loading}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label>Prénom</label>\r\n          <input\r\n            type=\"text\"\r\n            value={prenom}\r\n            onChange={(e) => setPrenom(e.target.value)}\r\n            required\r\n            disabled={loading}\r\n          />\r\n        </div>\r\n\r\n        <button type=\"submit\" disabled={loading} className={loading ? 'loading-button' : ''}>\r\n          {loading ? 'Vérification en cours...' : 'Vérifier'}\r\n        </button>\r\n\r\n        {error && <div className=\"error-message\">{error}</div>}\r\n      </form>\r\n      \r\n      <div className=\"buttons-container\">\r\n        <button \r\n          onClick={() => navigate('/')}\r\n          className=\"back-button\"\r\n        >\r\n          Retour à l'accueil\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","__webpack_require__.h = () => (\"fd227a61e492613722ce\")"],"names":["React","useState","useNavigate","axios","jsx","_jsx","jsxs","_jsxs","MemberCheck","_s","nom","setNom","prenom","setPrenom","loading","setLoading","error","setError","navigate","handleVerification","e","preventDefault","checkResponse","get","params","data","success","Error","presenceResponse","post","type","console","response","message","className","children","onSubmit","value","onChange","target","required","disabled","onClick","_c","$RefreshReg$"],"sourceRoot":""}