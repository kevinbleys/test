{"version":3,"file":"main.9cc1dcf2909152ebcdc0.hot-update.js","mappings":"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","sources":["webpack://tablet-ui/./src/components/MemberCheck.jsx","webpack://tablet-ui/./src/utils/soundUtils.js","webpack://tablet-ui/webpack/runtime/getFullHash"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { playBuzzerSound, playSuccessSound, preloadSounds } from '../utils/soundUtils';\r\n\r\nexport default function MemberCheck() {\r\n  const [nom, setNom] = useState('');\r\n  const [prenom, setPrenom] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const [message, setMessage] = useState('');\r\n  const navigate = useNavigate();\r\n\r\n  // Pré-charger les sons au chargement du composant\r\n  useEffect(() => {\r\n    preloadSounds();\r\n  }, []);\r\n\r\n  const handleVerification = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setError('');\r\n    setMessage('');\r\n\r\n    try {\r\n      // Étape 1: Vérification de l'adhésion\r\n      const checkResponse = await axios.get('http://localhost:4000/members/check', {\r\n        params: { nom, prenom }\r\n      });\r\n\r\n      if (checkResponse.data.success) {\r\n        // Membre valide et payé\r\n        setMessage(checkResponse.data.message);\r\n        \r\n        // Jouer le son de succès (optionnel)\r\n        playSuccessSound();\r\n        \r\n        // Étape 2: Enregistrement de la présence\r\n        const presenceResponse = await axios.post('http://localhost:4000/presences', {\r\n          type: 'adherent',\r\n          nom,\r\n          prenom\r\n        });\r\n\r\n        if (presenceResponse.data.success) {\r\n          // Redirection après succès\r\n          setTimeout(() => {\r\n            navigate('/confirmation');\r\n          }, 2000);\r\n        } else {\r\n          setError(\"Erreur lors de l'enregistrement de la présence\");\r\n          playBuzzerSound(); // Jouer le son d'erreur\r\n        }\r\n      } else {\r\n        // Membre non valide ou non payé - JOUER LE BUZZER\r\n        const errorMessage = checkResponse.data.error || \"Adhésion non valide\";\r\n        setError(errorMessage);\r\n        \r\n        // Jouer le son buzzer pour les erreurs\r\n        playBuzzerSound();\r\n      }\r\n\r\n    } catch (error) {\r\n      console.error('Erreur:', error);\r\n      let errorMessage = \"Erreur de connexion\";\r\n      \r\n      if (error.response?.status === 404) {\r\n        errorMessage = \"Aucun membre trouvé avec ce nom et prénom\";\r\n      } else if (error.response?.data?.error) {\r\n        errorMessage = error.response.data.error;\r\n      } else if (error.message) {\r\n        errorMessage = error.message;\r\n      }\r\n      \r\n      setError(errorMessage);\r\n      \r\n      // Jouer le son buzzer pour toutes les erreurs\r\n      playBuzzerSound();\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleRetourAccueil = () => {\r\n    // Effacer les champs et messages avant de revenir à l'accueil\r\n    setNom('');\r\n    setPrenom('');\r\n    setError('');\r\n    setMessage('');\r\n    setLoading(false);\r\n    \r\n    // Naviguer vers la page d'accueil\r\n    navigate('/');\r\n  };\r\n\r\n  return (\r\n    <div className=\"member-check\">\r\n      <div className=\"header-section\">\r\n        <h2>Vérification d'adhésion</h2>\r\n        <button \r\n          type=\"button\" \r\n          className=\"btn-retour-accueil\"\r\n          onClick={handleRetourAccueil}\r\n          disabled={loading}\r\n        >\r\n          ← Retour à l'accueil\r\n        </button>\r\n      </div>\r\n      \r\n      <form onSubmit={handleVerification}>\r\n        <div className=\"form-group\">\r\n          <label>Nom</label>\r\n          <input\r\n            type=\"text\"\r\n            value={nom}\r\n            onChange={(e) => setNom(e.target.value)}\r\n            required\r\n            disabled={loading}\r\n          />\r\n        </div>\r\n        \r\n        <div className=\"form-group\">\r\n          <label>Prénom</label>\r\n          <input\r\n            type=\"text\"\r\n            value={prenom}\r\n            onChange={(e) => setPrenom(e.target.value)}\r\n            required\r\n            disabled={loading}\r\n          />\r\n        </div>\r\n        \r\n        <button type=\"submit\" disabled={loading} className=\"btn-verify\">\r\n          {loading ? 'Vérification...' : 'Vérifier'}\r\n        </button>\r\n      </form>\r\n      \r\n      {error && (\r\n        <div className=\"error-message\">\r\n          <div className=\"error-icon\">⚠️</div>\r\n          {error}\r\n        </div>\r\n      )}\r\n      {message && (\r\n        <div className=\"success-message\">\r\n          <div className=\"success-icon\">✅</div>\r\n          {message}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","/**\r\n * Utilitaire pour jouer des sons dans l'application\r\n */\r\n\r\n// Fonction pour jouer un son\r\nexport const playSound = (soundPath) => {\r\n  try {\r\n    // Créer un nouvel objet Audio\r\n    const audio = new Audio(soundPath);\r\n    \r\n    // Définir le volume (0.0 à 1.0)\r\n    audio.volume = 0.7;\r\n    \r\n    // Jouer le son\r\n    audio.play()\r\n      .then(() => {\r\n        console.log('Son joué avec succès');\r\n      })\r\n      .catch(error => {\r\n        console.error('Erreur lors de la lecture du son:', error);\r\n      });\r\n  } catch (error) {\r\n    console.error('Erreur lors de la création de l\\'objet Audio:', error);\r\n  }\r\n};\r\n\r\n// Fonction spécifique pour le son buzzer\r\nexport const playBuzzerSound = () => {\r\n  // Chemin vers le fichier MP3 buzzer dans le dossier public/assets\r\n  const buzzerPath = '/assets/buzzer.mp3';\r\n  playSound(buzzerPath);\r\n};\r\n\r\n// Fonction pour jouer un son de succès (optionnel)\r\nexport const playSuccessSound = () => {\r\n  // Vous pouvez ajouter un son de succès si disponible\r\n  const successPath = '/assets/success.mp3';\r\n  playSound(successPath);\r\n};\r\n\r\n// Fonction pour pré-charger les sons (optionnel mais recommandé)\r\nexport const preloadSounds = () => {\r\n  try {\r\n    // Pré-charger le son buzzer\r\n    const buzzerAudio = new Audio('/assets/buzzer.mp3');\r\n    buzzerAudio.preload = 'auto';\r\n    \r\n    console.log('Sons pré-chargés');\r\n  } catch (error) {\r\n    console.error('Erreur lors du pré-chargement des sons:', error);\r\n  }\r\n};\r\n","__webpack_require__.h = () => (\"23e9d2183145feca7eb6\")"],"names":["React","useState","useEffect","useNavigate","axios","playBuzzerSound","playSuccessSound","preloadSounds","jsx","_jsx","jsxs","_jsxs","MemberCheck","_s","nom","setNom","prenom","setPrenom","loading","setLoading","error","setError","message","setMessage","navigate","handleVerification","e","preventDefault","checkResponse","get","params","data","success","presenceResponse","post","type","setTimeout","errorMessage","console","response","status","handleRetourAccueil","className","children","onClick","disabled","onSubmit","value","onChange","target","required","_c","$RefreshReg$","playSound","soundPath","audio","Audio","volume","play","then","log","catch","buzzerPath","successPath","buzzerAudio","preload"],"sourceRoot":""}