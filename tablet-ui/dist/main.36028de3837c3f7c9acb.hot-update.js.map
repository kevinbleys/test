{"version":3,"file":"main.36028de3837c3f7c9acb.hot-update.js","mappings":";;;;;;;;;;;;;;;;;;AAA0B;AAE1B,MAAMC,OAAO,GAAG,yBAAyB,CAAC,CAAC;AAC3C,MAAMC,OAAO,GAAG,kCAAkC,CAAC,CAAC;;AAE7C,MAAMC,eAAe,GAAG,MAAAA,CAAOC,GAAG,EAAEC,MAAM,KAAK;EACpD,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMN,6CAAK,CAACO,GAAG,CAACN,OAAO,EAAE;MACxCO,MAAM,EAAE;QACNC,SAAS,EAAEJ,MAAM;QACjBK,QAAQ,EAAEN;MACZ,CAAC;MACDO,OAAO,EAAE;QACP,SAAS,EAAET,OAAO;QAAE;QACpB,QAAQ,EAAE;MACZ;IACF,CAAC,CAAC;;IAEF;IACA,IAAII,QAAQ,CAACM,IAAI,EAAEC,UAAU,EAAEC,MAAM,KAAK,OAAO,EAAE;MACjD,OAAO;QAAEC,MAAM,EAAE,IAAI;QAAEC,OAAO,EAAE;MAAK,CAAC;IACxC,CAAC,MAAM;MACL,MAAM,IAAIC,KAAK,CAAC,6CAA6C,CAAC;IAChE;EAEF,CAAC,CAAC,OAAOC,KAAK,EAAE;IACd;IACA,IAAIA,KAAK,CAACZ,QAAQ,EAAE;MAClB,MAAM,IAAIW,KAAK,CAAC,kBAAkBC,KAAK,CAACZ,QAAQ,CAACQ,MAAM,MAAMI,KAAK,CAACZ,QAAQ,CAACM,IAAI,EAAEO,OAAO,EAAE,CAAC;IAC9F,CAAC,MAAM,IAAID,KAAK,CAACE,OAAO,EAAE;MACxB,MAAM,IAAIH,KAAK,CAAC,sDAAsD,CAAC;IACzE,CAAC,MAAM;MACL,MAAM,IAAIA,KAAK,CAAC,uCAAuC,CAAC;IAC1D;EACF;AACF,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCnCD","sources":["webpack://tablet-ui/./src/services/api.js","webpack://tablet-ui/webpack/runtime/getFullHash"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst API_URL = 'https://api.pepsup.com/'; // Utilise le proxy\r\nconst API_KEY = '0IOiLeibD6sF6sJtr17oB8VUKBG6NZ2U'; // Clé API valide\r\n\r\nexport const checkMembership = async (nom, prenom) => {\r\n  try {\r\n    const response = await axios.get(API_URL, {\r\n      params: { \r\n        firstName: prenom,\r\n        lastName: nom \r\n      },\r\n      headers: {\r\n        'api-key': API_KEY, // Header correct pour PEPsup\r\n        'Accept': 'application/json'\r\n      }\r\n    });\r\n\r\n    // Vérifier la structure de réponse\r\n    if (response.data?.scanResult?.status === 'Clear') {\r\n      return { isPaid: true, isValid: true };\r\n    } else {\r\n      throw new Error(\"Adhésion non valide ou problème de paiement\");\r\n    }\r\n\r\n  } catch (error) {\r\n    // Gestion des erreurs détaillée\r\n    if (error.response) {\r\n      throw new Error(`Erreur PEPsup [${error.response.status}]: ${error.response.data?.message}`);\r\n    } else if (error.request) {\r\n      throw new Error(\"Pas de réponse du serveur - Vérifiez votre connexion\");\r\n    } else {\r\n      throw new Error(\"Erreur de configuration de la requête\");\r\n    }\r\n  }\r\n};\r\n","__webpack_require__.h = () => (\"0afa36cf7d519ca9abed\")"],"names":["axios","API_URL","API_KEY","checkMembership","nom","prenom","response","get","params","firstName","lastName","headers","data","scanResult","status","isPaid","isValid","Error","error","message","request"],"sourceRoot":""}