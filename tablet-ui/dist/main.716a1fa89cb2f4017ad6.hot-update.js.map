{"version":3,"file":"main.716a1fa89cb2f4017ad6.hot-update.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;AAAwC;AACO;AACrB;AAAA;AAEX,SAASQ,WAAWA,CAAA,EAAG;EAAAC,EAAA;EACrC,MAAM,CAACC,GAAG,EAAEC,MAAM,CAAC,GAAGV,+CAAQ,CAAC,EAAE,CAAC;EAClC,MAAM,CAACW,MAAM,EAAEC,SAAS,CAAC,GAAGZ,+CAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAACa,OAAO,EAAEC,UAAU,CAAC,GAAGd,+CAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAACe,KAAK,EAAEC,QAAQ,CAAC,GAAGhB,+CAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACiB,OAAO,EAAEC,UAAU,CAAC,GAAGlB,+CAAQ,CAAC,EAAE,CAAC;EAC1C,MAAMmB,QAAQ,GAAGlB,6DAAW,CAAC,CAAC;EAE9B,MAAMmB,kBAAkB,GAAG,MAAOC,CAAC,IAAK;IACxCA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClBR,UAAU,CAAC,IAAI,CAAC;IAChBE,QAAQ,CAAC,EAAE,CAAC;IACZE,UAAU,CAAC,EAAE,CAAC;IAEd,IAAI;MACJ;MACA,MAAMK,aAAa,GAAG,MAAMrB,6CAAK,CAACsB,GAAG,CAAC,qCAAqC,EAAE;QAC7EC,MAAM,EAAE;UAAEhB,GAAG;UAAEE;QAAO;MACtB,CAAC,CAAC;MAEF,IAAIY,aAAa,CAACG,IAAI,CAACC,OAAO,EAAE;QAChC;QACAT,UAAU,CAACK,aAAa,CAACG,IAAI,CAACT,OAAO,CAAC;;QAEtC;QACA,MAAMW,gBAAgB,GAAG,MAAM1B,6CAAK,CAAC2B,IAAI,CAAC,iCAAiC,EAAE;UAC7EC,IAAI,EAAE,UAAU;UAChBrB,GAAG;UACHE;QACA,CAAC,CAAC;QAEF,IAAIiB,gBAAgB,CAACF,IAAI,CAACC,OAAO,EAAE;UACnC;UACAI,UAAU,CAAC,MAAM;YACjBZ,QAAQ,CAAC,eAAe,CAAC;UACzB,CAAC,EAAE,IAAI,CAAC;QACR,CAAC,MAAM;UACPH,QAAQ,CAAC,gDAAgD,CAAC;QAC1D;MACA,CAAC,MAAM;QACP;QACAA,QAAQ,CAACO,aAAa,CAACG,IAAI,CAACX,KAAK,IAAI,qBAAqB,CAAC;MAC3D;IAEA,CAAC,CAAC,OAAOA,KAAK,EAAE;MAChBiB,OAAO,CAACjB,KAAK,CAAC,SAAS,EAAEA,KAAK,CAAC;MAC/B,IAAIA,KAAK,CAACkB,QAAQ,EAAEC,MAAM,KAAK,GAAG,EAAE;QACpClB,QAAQ,CAAC,2CAA2C,CAAC;MACrD,CAAC,MAAM;QACPA,QAAQ,CAACD,KAAK,CAACkB,QAAQ,EAAEP,IAAI,EAAEX,KAAK,IAAIA,KAAK,CAACE,OAAO,IAAI,qBAAqB,CAAC;MAC/E;IACA,CAAC,SAAS;MACVH,UAAU,CAAC,KAAK,CAAC;IACjB;EACA,CAAC;EAED,oBACAR,uDAAA;IAAK6B,SAAS,EAAC,cAAc;IAAAC,QAAA,gBAC7BhC,sDAAA;MAAAgC,QAAA,EAAI;IAAuB,CAAI,CAAC,eAEhC9B,uDAAA;MAAM+B,QAAQ,EAAEjB,kBAAmB;MAAAgB,QAAA,gBACnC9B,uDAAA;QAAK6B,SAAS,EAAC,YAAY;QAAAC,QAAA,gBAC3BhC,sDAAA;UAAAgC,QAAA,EAAO;QAAG,CAAO,CAAC,eAClBhC,sDAAA;UACA0B,IAAI,EAAC,MAAM;UACXQ,KAAK,EAAE7B,GAAI;UACX8B,QAAQ,EAAGlB,CAAC,IAAKX,MAAM,CAACW,CAAC,CAACmB,MAAM,CAACF,KAAK,CAAE;UACxCG,QAAQ;UACRC,QAAQ,EAAE7B;QAAQ,CACjB,CAAC;MAAA,CACG,CAAC,eAENP,uDAAA;QAAK6B,SAAS,EAAC,YAAY;QAAAC,QAAA,gBAC3BhC,sDAAA;UAAAgC,QAAA,EAAO;QAAM,CAAO,CAAC,eACrBhC,sDAAA;UACA0B,IAAI,EAAC,MAAM;UACXQ,KAAK,EAAE3B,MAAO;UACd4B,QAAQ,EAAGlB,CAAC,IAAKT,SAAS,CAACS,CAAC,CAACmB,MAAM,CAACF,KAAK,CAAE;UAC3CG,QAAQ;UACRC,QAAQ,EAAE7B;QAAQ,CACjB,CAAC;MAAA,CACG,CAAC,eAENT,sDAAA;QAAQ0B,IAAI,EAAC,QAAQ;QAACY,QAAQ,EAAE7B,OAAQ;QAAAuB,QAAA,EACvCvB,OAAO,GAAG,iBAAiB,GAAG;MAAU,CACjC,CAAC;IAAA,CACH,CAAC,EAENE,KAAK,iBAAIX,sDAAA;MAAK+B,SAAS,EAAC,eAAe;MAAAC,QAAA,EAAErB;IAAK,CAAM,CAAC,EACrDE,OAAO,iBAAIb,sDAAA;MAAK+B,SAAS,EAAC,iBAAiB;MAAAC,QAAA,EAAEnB;IAAO,CAAM,CAAC;EAAA,CACvD,CAAC;AAEP;AAACT,EAAA,CA5FuBD,WAAW;EAAA,QAMjBN,yDAAW;AAAA;AAAA0C,EAAA,GANLpC,WAAW;AAAA,IAAAoC,EAAA;AAAAC,sCAAA,CAAAD,EAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCJnC","sources":["webpack://tablet-ui/./src/components/MemberCheck.jsx","webpack://tablet-ui/webpack/runtime/getFullHash"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\nexport default function MemberCheck() {\r\n const [nom, setNom] = useState('');\r\n const [prenom, setPrenom] = useState('');\r\n const [loading, setLoading] = useState(false);\r\n const [error, setError] = useState('');\r\n const [message, setMessage] = useState('');\r\n const navigate = useNavigate();\r\n\r\n const handleVerification = async (e) => {\r\n e.preventDefault();\r\n setLoading(true);\r\n setError('');\r\n setMessage('');\r\n\r\n try {\r\n // Étape 1: Vérification de l'adhésion\r\n const checkResponse = await axios.get('http://localhost:4000/members/check', {\r\n params: { nom, prenom }\r\n });\r\n\r\n if (checkResponse.data.success) {\r\n // Membre valide et payé\r\n setMessage(checkResponse.data.message);\r\n \r\n // Étape 2: Enregistrement de la présence\r\n const presenceResponse = await axios.post('http://localhost:4000/presences', {\r\n type: 'adherent',\r\n nom,\r\n prenom\r\n });\r\n\r\n if (presenceResponse.data.success) {\r\n // Redirection après succès\r\n setTimeout(() => {\r\n navigate('/confirmation');\r\n }, 2000);\r\n } else {\r\n setError(\"Erreur lors de l'enregistrement de la présence\");\r\n }\r\n } else {\r\n // Membre non valide ou non payé\r\n setError(checkResponse.data.error || \"Adhésion non valide\");\r\n }\r\n\r\n } catch (error) {\r\n console.error('Erreur:', error);\r\n if (error.response?.status === 404) {\r\n setError(\"Aucun membre trouvé avec ce nom et prénom\");\r\n } else {\r\n setError(error.response?.data?.error || error.message || \"Erreur de connexion\");\r\n }\r\n } finally {\r\n setLoading(false);\r\n }\r\n };\r\n\r\n return (\r\n <div className=\"member-check\">\r\n <h2>Vérification d'adhésion</h2>\r\n \r\n <form onSubmit={handleVerification}>\r\n <div className=\"form-group\">\r\n <label>Nom</label>\r\n <input\r\n type=\"text\"\r\n value={nom}\r\n onChange={(e) => setNom(e.target.value)}\r\n required\r\n disabled={loading}\r\n />\r\n </div>\r\n \r\n <div className=\"form-group\">\r\n <label>Prénom</label>\r\n <input\r\n type=\"text\"\r\n value={prenom}\r\n onChange={(e) => setPrenom(e.target.value)}\r\n required\r\n disabled={loading}\r\n />\r\n </div>\r\n \r\n <button type=\"submit\" disabled={loading}>\r\n {loading ? 'Vérification...' : 'Vérifier'}\r\n </button>\r\n </form>\r\n \r\n {error && <div className=\"error-message\">{error}</div>}\r\n {message && <div className=\"success-message\">{message}</div>}\r\n </div>\r\n );\r\n}\r\n","__webpack_require__.h = () => (\"7d5c0a27ff9c3c0a68b0\")"],"names":["React","useState","useNavigate","axios","jsx","_jsx","jsxs","_jsxs","MemberCheck","_s","nom","setNom","prenom","setPrenom","loading","setLoading","error","setError","message","setMessage","navigate","handleVerification","e","preventDefault","checkResponse","get","params","data","success","presenceResponse","post","type","setTimeout","console","response","status","className","children","onSubmit","value","onChange","target","required","disabled","_c","$RefreshReg$"],"sourceRoot":""}