{"version":3,"file":"main.87a70a12c9d310c42920.hot-update.js","mappings":"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","sources":["webpack://tablet-ui/./src/components/NonMemberConfirmation.jsx","webpack://tablet-ui/webpack/runtime/getFullHash"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useLocation, useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport './NonMemberConfirmation.css';\r\n\r\nexport default function NonMemberConfirmation() {\r\n  const location = useLocation();\r\n  const navigate = useNavigate();\r\n  const { id, nom, prenom, dateNaissance, tarif, methodePaiement } = location.state || {};\r\n  \r\n  const [paymentStatus, setPaymentStatus] = useState(false);\r\n  \r\n  const formatDate = (dateString) => {\r\n    const options = { day: '2-digit', month: '2-digit', year: 'numeric' };\r\n    return new Date(dateString).toLocaleDateString('fr-FR', options);\r\n  };\r\n  \r\n  useEffect(() => {\r\n    if (!id) return;\r\n    \r\n    const checkPaymentStatus = async () => {\r\n      try {\r\n        const response = await axios.get(`http://localhost:4000/non-members/${id}`);\r\n        if (response.data.success && (response.data.nonMember.status === 'paid' || response.data.nonMember.status === 'canceled')) {\r\n          setPaymentStatus(true);\r\n          // Rediriger vers la page d'accueil après 3 secondes\r\n          setTimeout(() => {\r\n            navigate('/');\r\n          }, 3000);\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Erreur lors de la vérification du paiement:\", error);\r\n      }\r\n    };\r\n    \r\n    checkPaymentStatus();\r\n    const intervalId = setInterval(checkPaymentStatus, 5000);\r\n    \r\n    return () => clearInterval(intervalId);\r\n  }, [id, navigate]);\r\n\r\n  if (!nom || !prenom || !dateNaissance) {\r\n    navigate('/non-member');\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div className=\"confirmation-container\">\r\n      <div className=\"confirmation-card\">\r\n        {paymentStatus ? (\r\n          <>\r\n            <h2 className=\"success-title\">Paiement validé !</h2>\r\n            <p>Votre paiement a été validé par un bénévole.</p>\r\n            <p>Vous allez être redirigé vers la page d'accueil...</p>\r\n          </>\r\n        ) : (\r\n          <>\r\n            <h2>En attente de validation</h2>\r\n            <p>Votre demande a été enregistrée et est en attente de validation par un bénévole.</p>\r\n            <p className=\"highlight-text\">Veuillez vous présenter à l'accueil pour finaliser votre paiement.</p>\r\n          </>\r\n        )}\r\n        \r\n        <div className=\"info-box\">\r\n          <h3>Récapitulatif</h3>\r\n          <div className=\"info-row\"><span>Nom :</span><span>{nom}</span></div>\r\n          <div className=\"info-row\"><span>Prénom :</span><span>{prenom}</span></div>\r\n          <div className=\"info-row\"><span>Date de naissance :</span><span>{formatDate(dateNaissance)}</span></div>\r\n          <div className=\"info-row\"><span>Tarif :</span><span>{tarif === 0 ? 'Gratuit' : `${tarif}€`}</span></div>\r\n          <div className=\"info-row\"><span>Méthode de paiement :</span><span>{methodePaiement}</span></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","__webpack_require__.h = () => (\"5f7e937d5253dac80c94\")"],"names":["React","useState","useEffect","useLocation","useNavigate","axios","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","NonMemberConfirmation","_s","location","navigate","id","nom","prenom","dateNaissance","tarif","methodePaiement","state","paymentStatus","setPaymentStatus","formatDate","dateString","options","day","month","year","Date","toLocaleDateString","checkPaymentStatus","response","get","data","success","nonMember","status","setTimeout","error","console","intervalId","setInterval","clearInterval","className","children","_c","$RefreshReg$"],"sourceRoot":""}